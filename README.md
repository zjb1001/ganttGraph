# Gantt Graph - 任务管理甘特图系统

一个功能完整的在线甘特图任务管理系统，支持里程碑管理、任务依赖关系、可视化时间轴等功能。

## ✨ 主要功能

- 📊 **交互式甘特图**：年-月-周三层时间轴结构
- 🗓️ **动态时间轴范围**：可自定义起始/结束日期，支持跨年度范围，一键从任务数据自动适配
- 🏁 **里程碑管理**：独立的里程碑分组和标记
- 🔗 **任务依赖**：可视化任务依赖关系，支持延迟约束
- 📝 **内联编辑**：直接在甘特图中编辑任务名称和日期
- 📤 **导出功能**：导出为高清图片或 PDF 文档
- 💾 **本地存储**：基于 IndexedDB 的本地优先架构
- 🎨 **现代化 UI**：简洁直观的用户界面，工具栏支持自由拖拽摆放

## 🚀 快速开始

### 方式一：使用安装脚本（推荐）

**Linux/macOS:**
```bash
bash setup.sh
```

**Windows:**
```cmd
setup.bat
```

### 方式二：手动安装

1. **克隆仓库**
```bash
git clone https://github.com/zjb1001/ganttGraph.git
cd ganttGraph
```

2. **安装依赖**
```bash
npm install
```

3. **启动开发服务器**
```bash
npm run dev
```

4. **打开浏览器**
访问 http://localhost:5173

## 📦 可用命令

```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产构建
npm run preview

# 构建 Windows 可执行文件（release/gantt-graph.exe）
npm run build:exe
```

## 🎯 使用指南

### 基本操作

- **编辑任务**：点击任务名称进行编辑
- **创建依赖**：按住 Ctrl/Cmd + 点击两个任务
- **删除依赖**：双击依赖连线
- **缩放视图**：使用工具栏的 +/- 按钮或适应屏幕按钮
- **折叠/展开**：使用折叠按钮收起或展开所有分组

### 时间轴范围

悬浮工具栏左侧提供时间轴控制区：

- 📅 **起始 / 结束日期**：直接修改输入框，时间轴立即重新生成，支持任意跨年范围
- 🔍 **自适应**：点击"自适应"按钮，自动计算当前项目所有任务的最早开始~最晚结束时间，并各留 7 天缓冲

### 悬浮工具栏

工具栏为可自由拖拽的悬浮面板：

- 拖住左侧 **⠿ 拖拽手柄** 可将工具栏移动到任意位置
- 点击按钮、输入日期时不会意外触发拖拽

### 导出功能

点击工具栏右侧的导出按钮：

- 📷 **PNG 图片**：高质量截图，适合屏幕分享
- 🖼️ **JPEG 图片**：压缩图片，文件更小
- 📄 **PDF 文档**：300 DPI 打印质量，适合打印和归档

## 🛠️ 技术栈

- **React 18** - UI 框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **Zustand** - 状态管理
- **Dexie.js** - IndexedDB 封装
- **html2canvas** - 截图导出
- **jsPDF** - PDF 生成

## 📁 项目结构

```
ganttGraph/
├── src/
│   ├── components/     # React 组件
│   │   ├── GanttView/  # 甘特图组件
│   │   ├── Dashboard/  # 仪表板
│   │   └── ...
│   ├── store/          # Zustand 状态管理
│   ├── db/             # IndexedDB 数据库
│   ├── types/          # TypeScript 类型定义
│   └── utils/          # 工具函数
├── public/             # 静态资源
├── setup.sh            # Linux/macOS 安装脚本
├── setup.bat           # Windows 安装脚本
└── package.json
```

## 📋 Changelog

### v0.2.0 (2026-02-28)
- 🗓️ 新增动态时间轴范围：可自定义起始/结束日期，实时刷新整条时间轴
- 🔍 新增"自适应"按钮：自动从项目任务计算最优时间范围（±7 天缓冲）
- 🖱️ 工具栏改为可拖拽悬浮面板，位置自由摆放，不再遮挡时间轴内容

### v0.1.0
- 初始版本：甘特图、里程碑、任务依赖、导出功能

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 🔗 相关链接

- 在线演示：即将推出
- 问题反馈：https://github.com/zjb1001/ganttGraph/issues
